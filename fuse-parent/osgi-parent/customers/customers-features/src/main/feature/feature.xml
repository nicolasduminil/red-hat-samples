<?xml version="1.0" encoding="UTF-8"?>
<features name="osgi-customers-features-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.3.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.3.0 http://karaf.apache.org/xmlns/features/v1.3.0">
  <feature name="customers-datasource" version="${project.version}">
    <config name="org.ops4j.datasource-customers">
      osgi.jdbc.driver.class=oracle.jdbc.OracleDriver
      databaseName=customers;create=true
      dataSourceName=customers
    </config>
    <capability>
      osgi.service;objectClass=javax.sql.DataSource;effective:=active;osgi.jndi.service.name=customers
    </capability>
  </feature>
  <feature name="customers-data" version="${project.version}">
    <feature>transaction</feature>
    <feature>jndi</feature>
    <feature>pax-jdbc-config</feature>
    <feature>pax-jdbc-h2</feature>
    <!--feature>pax-jdbc-oracle</feature-->
    <feature>pax-jdbc-pool-dbcp2</feature>
    <feature>jdbc</feature>
    <feature dependency="true">aries-blueprint</feature>
    <feature>jpa</feature>
    <feature>hibernate</feature>
    <bundle>wrap:mvn:fr.simplex-software.red-hat.fuse/customers-jaxb/${project.version}</bundle>
    <bundle>mvn:fr.simplex-software.red-hat.fuse.osgi/customers-data/${project.version}</bundle>
  </feature>
  <feature name="customers-service" version="${project.version}">
    <feature version="${project.version}">customers-data</feature>
    <bundle>mvn:fr.simplex-software.red-hat.fuse.osgi/customers-service/${project.version}</bundle>
  </feature>
</features>